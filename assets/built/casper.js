!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.fluidvids=t()}(this,function(){"use strict";var n={selector:['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"],players:["www.youtube.com","player.vimeo.com"]},r=[".fluidvids {","width: 100%; max-width: 100%; position: relative;","}",".fluidvids-item {","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;","}"].join(""),o=document.head||document.getElementsByTagName("head")[0];function s(e){return new RegExp("^(https?:)?//(?:"+n.players.join("|")+").*$","i").test(e)}function i(e){if((s(e.src)||s(e.data))&&!e.getAttribute("data-fluidvids")){var t,i,n=document.createElement("div");e.parentNode.insertBefore(n,e),e.className+=(e.className?" ":"")+"fluidvids-item fluid-width-video-wrapper",e.setAttribute("data-fluidvids","loaded"),n.className+="fluidvids fluid-width-video-container",n.style.paddingTop=(t=e.height,i=e.width,parseInt(t,10)/parseInt(i,10)*100+"%"),n.appendChild(e)}}return n.render=function(){for(var e=document.querySelectorAll(n.selector.join()),t=e.length;t--;)i(e[t])},n.init=function(e){for(var t in e)n[t]=e[t];var i;n.render(),(i=document.createElement("div")).innerHTML="<p>x</p><style>"+r+"</style>",o.appendChild(i.childNodes[1])},n}),function(e){e.addEventListener("DOMContentLoaded",function(){e.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),i=e.attributes.width.value/e.attributes.height.value;t.style.flex=i+" 1 0%"})})}((window,document)),function(t,i){var n=i.querySelector("link[rel=next]");if(n){var r=i.querySelector(".post-feed");if(r){var o=300,s=!1,l=!1,c=t.scrollY,a=t.innerHeight,d=i.documentElement.scrollHeight;t.addEventListener("scroll",m,{passive:!0}),t.addEventListener("resize",v),f()}}function u(){if(404===this.status)return t.removeEventListener("scroll",m),void t.removeEventListener("resize",v);this.response.querySelectorAll(".post-card").forEach(function(e){r.appendChild(i.importNode(e,!0))});var e=this.response.querySelector("link[rel=next]");e?n.href=e.href:(t.removeEventListener("scroll",m),t.removeEventListener("resize",v)),d=i.documentElement.scrollHeight,l=s=!1}function e(){if(!l)if(c+a<=d-o)s=!1;else{l=!0;var e=new t.XMLHttpRequest;e.responseType="document",e.addEventListener("load",u),e.open("GET",n.href),e.send(null)}}function f(){s||t.requestAnimationFrame(e),s=!0}function m(){c=t.scrollY,f()}function v(){a=t.innerHeight,d=i.documentElement.scrollHeight,f()}}(window,document),function(s,l){s.Casper||(s.Casper={}),s.Casper.stickyNavTitle=function(e){var t=l.querySelector(e.navSelector),i=l.querySelector(e.titleSelector),n=s.scrollY,r=!1;function o(){i.getBoundingClientRect().top+s.scrollY+(i.offsetHeight+35)<=n?t.classList.add(e.activeClass):t.classList.remove(e.activeClass),r=!1}s.addEventListener("scroll",function(){n=s.scrollY,function(){r||requestAnimationFrame(o);r=!0}()},{passive:!0}),o()}}(window,document);
//# sourceMappingURL=casper.js.map